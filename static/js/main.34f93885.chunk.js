(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,n){e.exports=n.p+"static/media/camera-button.bae7d1a0.png"},22:function(e){e.exports={camera:{NotAllowedError:"You must grant camera access to use this application",OverconstrainedError:"Your device does not meet the requirements or camera permission has not been given",TypeError:"App has been misconfigured"}}},24:function(e,t,n){e.exports=n.p+"static/media/close.506c8461.svg"},25:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA+QCxACk6SYUYAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4wIWEjYNu7kCeQAAADdJREFUWMPt1LENACAMA7CA+v/FlWDiBRiwp26NMiSB341zdPe6+biqRpLM1w0IAHZAALADAgAbC8kMFhny4BwAAAAASUVORK5CYII="},26:function(e){e.exports={terms:["barley","brewer\u2019s yeast","durum","emmer","farina","farro","graham","malt","rye","semolina","spelt","triticale","wheat","wheatberries"]}},27:function(e,t,n){e.exports=n.p+"static/media/detected-logo.44cfcd7b.png"},28:function(e,t,n){e.exports=n.p+"static/media/not-detected-logo.c59074f5.png"},29:function(e,t,n){e.exports=n.p+"static/media/logo.ee870420.png"},30:function(e,t,n){e.exports=n.p+"static/media/label-gluten-1.66f26d62.png"},31:function(e,t,n){e.exports=n.p+"static/media/label-gluten-2.b3b2f176.png"},32:function(e,t,n){e.exports=n.p+"static/media/label-gluten-free-1.0a8c7d62.jpg"},33:function(e,t,n){e.exports=n.p+"static/media/label-gluten-free-2.863a2528.jpg"},37:function(e,t,n){e.exports=n(50)},49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(8),c=n.n(o),i=n(35),u=n(3),l=n(4),s=n(6),f=n(5),m=n(7),d=n(1),v=n(2),p=n(34);function h(){var e=Object(d.a)(["\n\tposition: fixed;\n\tleft: calc(50% - 2.5rem);\n\tbottom: 2rem;\n\tcolor: var(--color-alabaster);\n\tbackground-color: var(--color-sea-buckthorn);\n\tfont-weight: bold;\n\theight: 5rem;\n\twidth: 5rem;\n\tborder-radius: 50%;\n\ttext-align: center;\n\tcursor: pointer;\n\tz-index: var(--z-index-capture-button);\n\ttext-shadow: 1px 2px 0.5rem var(--color-tundora);\n"]);return h=function(){return e},e}var b=v.a.img(h());function g(){var e=Object(d.a)(["\n\theight: 100vh;\n\twidth: 100vw;\n"]);return g=function(){return e},e}var O=v.a.div(g());function j(){var e=Object(d.a)(["\n\tfont-size: 1.2rem;\n\ttext-align: center;\n\tpadding: 0 1rem;\n"]);return j=function(){return e},e}function w(){var e=Object(d.a)(["\n    font-size: 3rem;\n    font-family: var(--font-family-title);\n    margin-bottom: 0;\n"]);return w=function(){return e},e}function x(){var e=Object(d.a)(["\n    position: fixed;\n    top: 0;\n    color: var(--color-alabaster);\n    display: flex;\n    flex-flow: column;\n    align-items: center;\n    padding-top: 10rem;\n"]);return x=function(){return e},e}var y=Object(v.a)(O)(x()),A=v.a.h1(w()),E=v.a.p(j()),k=function(e){var t=e.error,n=e.title;return a.a.createElement(y,null,a.a.createElement(A,null,n),a.a.createElement(E,null,t))};k.defaultProps={error:"An error occurred",title:"Uh Oh!"};var S=k,C=n(21),T=n.n(C),R=Object.freeze({HOME:"/",RESULTS:"/results",SPLASH:"/splash",TEST:"/test-data"}),D=Object.freeze({imageData:null,screen:R.SPLASH,setImageData:function(){},setScreen:function(){}}),P=a.a.createContext(D),M=n(22);function U(){var e=Object(d.a)(["\n    display: none;\n    height: 100vh;\n    width: 100vw;\n"]);return U=function(){return e},e}function z(){var e=Object(d.a)(["\n    color: var(--color-alabaster);\n    background-color: var(--color-tundora);\n    height: 100vh;\n    width: 100vw;\n    object-fit: cover;\n"]);return z=function(){return e},e}var H=v.a.video(z()),L=v.a.canvas(U()),B=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(o)))).canvasRef=a.a.createRef(),n.videoRef=a.a.createRef(),n.state={cameraSet:!1,error:null},n.setupCamera=function(){navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:"environment"}}}).then(function(e){return n.stream=e}).then(function(){n.videoRef.current.srcObject=n.stream,n.videoRef.current.play()}).catch(n.errorHandler).finally(function(){return n.setState({cameraSet:!0})})},n.errorHandler=function(e){var t=e.name,r=M.camera;n.setState({error:r[t]}),n.takedownCamera()},n.takedownCamera=function(){if(n.stream){var e=n.stream.getTracks();Object(p.a)(e,1)[0].stop()}},n.takePhoto=function(){var e=n.context,t=e.setImageData,r=e.setScreen,a=n.videoRef.current,o=a.videoHeight,c=a.videoWidth,i=n.canvasRef.current.getContext("2d");n.canvasRef.current.width=c,n.canvasRef.current.height=o,i.drawImage(n.videoRef.current,0,0,c,o),t(n.canvasRef.current.toDataURL("image/png")),r(R.RESULTS)},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setupCamera()}},{key:"componentWillUnmount",value:function(){this.takedownCamera()}},{key:"render",value:function(){var e=this.state,t=e.cameraSet,n=e.error,r=Boolean(this.stream),o=t&&!Boolean(this.stream);return a.a.createElement(O,null,r&&a.a.createElement(b,{src:T.a,alt:"Take Photo",onClick:this.takePhoto}),a.a.createElement(H,{ref:this.videoRef}),a.a.createElement(L,{ref:this.canvasRef}),o&&a.a.createElement(S,{error:n}))}}]),t}(r.Component);B.contextType=P;var F=B,I=n(9),J=n.n(I),W=n(23),Y=n(24),G=n.n(Y);function N(){var e=Object(d.a)(["\n    display: flex;\n    align-items: center;\n    padding: 0 1rem;\n    height: 3rem;\n    cursor: pointer;\n"]);return N=function(){return e},e}function _(){var e=Object(d.a)(["\n    height: 2rem;\n    width: 2rem;\n"]);return _=function(){return e},e}function q(){var e=Object(d.a)(["\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n    padding: 0 1rem;\n"]);return q=function(){return e},e}function K(){var e=Object(d.a)(["\n    display: flex;\n    flex-flow: column nowrap;\n    position: fixed;\n    top: 0;\n    right: 0;\n    background-color: var(--color-alabaster);\n    padding: 1rem 0;\n    height: 100%;\n    width: ",";\n    visibility: ",";\n    overflow-x: hidden;\n    transition: 0.5s;\n    z-index: var(--z-index-menu);\n    white-space: nowrap;\n    box-shadow: 0 0 5rem 0.5rem var(--color-mine-shaft);\n"]);return K=function(){return e},e}var Q=v.a.div(K(),function(e){return e.visible?"60%":"0"},function(e){return e.visible?"visible":"hidden"});Q.propTypes={visible:J.a.bool},Q.defaultProps={visible:!1};var X=v.a.div(q());X.CloseButton=v.a.img(_());var V=v.a.p(N()),Z=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(a)))).handleClickOutside=function(){return n.props.closeFn()},n.navigateToTestPage=function(){return n.context.setScreen(R.TEST)},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.closeFn,n=e.open;return a.a.createElement(Q,{visible:n},a.a.createElement(X,null,a.a.createElement(X.CloseButton,{src:G.a,alt:"Close",onClick:t})),a.a.createElement(V,{onClick:this.navigateToTestPage},"Test Data"))}}]),t}(r.Component);Z.contextType=P,Z.defaultProps={closeFn:function(){},open:!1};var $=Object(W.a)(Z),ee=n(25),te=n.n(ee);function ne(){var e=Object(d.a)(["\n    color: var(--color-white);\n    position: fixed;\n    top: 1rem;\n    right: 1rem;\n    z-index: var(--z-index-menu-button);\n    cursor: pointer;\n"]);return ne=function(){return e},e}var re=v.a.img(ne()),ae=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(a)))).state={menuOpen:!1},n.openMenu=function(){return n.setState({menuOpen:!0})},n.closeMenu=function(){return n.setState({menuOpen:!1})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.menuOpen;return a.a.createElement(O,null,a.a.createElement(F,null),!e&&a.a.createElement(re,{src:te.a,alt:"Menu",onClick:this.openMenu}),a.a.createElement($,{open:e,closeFn:this.closeMenu}))}}]),t}(r.Component);function oe(){var e=Object(d.a)(["\n\t0% { \n\t\ttransform: rotate(0deg); \n\t}\n\n\t100% { \n\t\ttransform: rotate(360deg); \n\t}\n"]);return oe=function(){return e},e}function ce(){var e=Object(d.a)(["\n\t0% { \n\t\topacity: 0;\n\t\ttransform: scale(10);\n\t}\n\n\t20% {\n\t\topacity: 1;\n\t}\n\n\t90% {\n\t\ttransform: scale(1);\n\t}\n\n\t95% {\n\t\ttransform: scale(1.25);\n\t}\n\n\t100% { \n\t\ttransform: scale(1);\n\t}\n"]);return ce=function(){return e},e}function ie(){var e=Object(d.a)(["\n\t89% {\n\t\ttransform: rotate(0);\n\t}\n\n\t90% {\n\t\ttransform: rotate(-2deg);\n\t}\n\n\t100% {\n\t\ttransform: rotate(0);\n\t}\n"]);return ie=function(){return e},e}var ue=Object(v.b)(ie()),le=Object(v.b)(ce()),se=Object(v.b)(oe());function fe(){var e=Object(d.a)(["\n\tborder: 0.75rem solid #E0E0E0; \n\tborder-top: 0.75rem solid var(--color-sea-buckthorn);\n\tborder-radius: 50%;\n\twidth: 3rem;\n\theight: 3rem;\n\tanimation: "," 2s linear infinite;\n"]);return fe=function(){return e},e}var me=v.a.div(fe(),se),de=n(13),ve=n.n(de),pe=n(26),he=new(function(){function e(){var t=this;Object(u.a)(this,e),this._configureLibrary=function(){t._tesseract=ve.a},this._getConfig=function(){var e="".concat(window.location.origin).concat("/glut-in");return{workerPath:"".concat(e,"/tesseract/worker.js"),langPath:"".concat(e,"/tesseract/lang/"),corePath:"".concat(e,"/tesseract/core.js")}},this._configureLibrary()}return Object(l.a)(e,[{key:"startDetection",value:function(e){return this._tesseract.recognize(e)}},{key:"detect",value:function(e){var t=e.toLowerCase(),n=pe.terms,r=function(e){return t.includes(e)};return new Promise(function(e,t){return n.some(r)?e():t()})}}]),e}()),be=n(27),ge=n.n(be),Oe=n(28),je=n.n(Oe);function we(){var e=Object(d.a)(["\n    color: var(--color-alabaster);\n    font-size: 2.5rem;\n    font-family: var(--font-family-title);\n    font-weight: lighter;\n    text-shadow: ",";\n"]);return we=function(){return e},e}function xe(){var e=Object(d.a)(["\n    height: 30vh;\n    width: 30vh;\n    border-radius: 50%;\n    box-shadow: 0 5px 2rem var(--color-alabaster);\n"]);return xe=function(){return e},e}function ye(){var e=Object(d.a)(["\n    position: fixed;\n    top: 0;\n    display: flex;\n    flex-flow: column;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n    width: 100%;\n"]);return ye=function(){return e},e}function Ae(){var e=Object(d.a)(["\n    background-image: ",";\n    background-position: center center;\n\tbackground-size: cover;\n\tfilter: grayscale(100%);\n"]);return Ae=function(){return e},e}function Ee(){var e=Object(d.a)(["\n    position: fixed;\n    top: 1rem;\n    left: 1rem;\n"]);return Ee=function(){return e},e}var ke=Object(v.a)(me)(Ee()),Se=Object(v.a)(O)(Ae(),function(e){var t=e.background;return"url(".concat(t,")")});Se.propTypes={background:J.a.string.isRequired};var Ce=v.a.div(ye());Ce.Icon=v.a.img(xe()),Ce.Text=v.a.h1(we(),function(e){return e.detected?"5px 5px 0.25rem var(--color-bright-red)":"5px 5px 0.25rem var(--color-olive-drab)"}),Ce.Text.propTypes={detected:J.a.bool.isRequired};var Te=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(a)))).state={inProgress:!1,completed:!1,detected:null},n.onProgressUpdate=function(e){n.setState(function(e){return e.inProgress?null:{inProgress:!0}})},n.onJobComplete=function(e){n.setState({inProgress:!1}),he.detect(e.text).then(n.detectedHandler,n.notDetectedHandler)},n.detectedHandler=function(){n.setState({completed:!0,detected:!0})},n.notDetectedHandler=function(){n.setState({completed:!0,detected:!1})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.startDetection()}},{key:"startDetection",value:function(){var e=this.context.imageData;this.recognitionJob=he.startDetection(e),this.recognitionJob.progress(this.onProgressUpdate),this.recognitionJob.then(this.onJobComplete)}},{key:"render",value:function(){var e=this.context.imageData,t=this.state,n=t.inProgress,o=t.completed,c=t.detected;return a.a.createElement(r.Fragment,null,a.a.createElement(Se,{background:e}),n&&a.a.createElement(ke,null),o&&a.a.createElement(Ce,null,a.a.createElement(Ce.Icon,{src:c?ge.a:je.a}),a.a.createElement(Ce.Text,{detected:c},c?"Contains Gluten":"Gluten-Free")))}}]),t}(r.Component);Te.contextType=P;var Re=Te,De=n(29),Pe=n.n(De);function Me(){var e=Object(d.a)(["\n\tanimation: "," 1s linear;\n"]);return Me=function(){return e},e}function Ue(){var e=Object(d.a)(["\n\tdisplay: inline-block;\n\tcolor: var(--color-alabaster);\n\tfont-size: 4rem;\n\tfont-family: var(--font-family-title);\n\ttext-shadow: 1px 2px 0.5rem var(--color-tundora);\n\tanimation: "," 1s linear;\n"]);return Ue=function(){return e},e}function ze(){var e=Object(d.a)([""]);return ze=function(){return e},e}function He(){var e=Object(d.a)(["\n\theight: 12rem;\n\twidth: 12rem;\n\tborder-radius: 50%;\n\tbox-shadow: 0 5px 2rem var(--color-mine-shaft);\n"]);return He=function(){return e},e}function Le(){var e=Object(d.a)(["\n\tdisplay: flex;\n\tflex-flow: column nowrap;\n\tjustify-content: center;\n\talign-items: center;\n\tbackground-color: var(--color-sea-buckthorn);\n"]);return Le=function(){return e},e}var Be=Object(v.a)(O)(Le()),Fe=v.a.img(He()),Ie=v.a.div(ze()),Je=v.a.h1(Ue(),ue),We=Object(v.a)(Je)(Me(),le),Ye=function(){return a.a.createElement(Be,null,a.a.createElement(Fe,{src:Pe.a}),a.a.createElement(Ie,null,a.a.createElement(Je,null,"Glut-in"),a.a.createElement(We,null,"?")))},Ge=n(30),Ne=n.n(Ge),_e=n(31),qe=n.n(_e),Ke=n(32),Qe=n.n(Ke),Xe=n(33),Ve=n.n(Xe),Ze=[Ne.a,qe.a],$e=[Qe.a,Ve.a];function et(){var e=Object(d.a)(["\n    width: 100%;\n    max-height: 5rem;\n    object-fit: cover;\n    cursor: pointer;\n"]);return et=function(){return e},e}function tt(){var e=Object(d.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n    grid-auto-rows: 1fr;\n    grid-column-gap: 1rem;\n    grid-row-gap: 1rem;\n    align-items: stretch;\n"]);return tt=function(){return e},e}function nt(){var e=Object(d.a)([""]);return nt=function(){return e},e}function rt(){var e=Object(d.a)(["\n    padding: 1rem;\n"]);return rt=function(){return e},e}var at=v.a.div(rt()),ot=v.a.h1(nt()),ct=v.a.div(tt()),it=v.a.img(et()),ut=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(a)))).sendDataForTest=function(e){var t=n.context,r=t.setImageData,a=t.setScreen;r(e),a(R.RESULTS)},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(at,null,a.a.createElement(ot,null,"Gluten"),a.a.createElement(ct,null,Ze.map(function(t,n){return a.a.createElement(it,{key:n,src:t,onClick:function(){return e.sendDataForTest(t)}})})),a.a.createElement(ot,null,"Gluten-Free"),a.a.createElement(ct,null,$e.map(function(t,n){return a.a.createElement(it,{key:n,src:t,onClick:function(){return e.sendDataForTest(t)}})})))}}]),t}(r.Component);ut.contextType=P;var lt=ut,st=function(e){switch(e.screen){case R.HOME:return a.a.createElement(ae,null);case R.RESULTS:return a.a.createElement(Re,null);case R.SPLASH:return a.a.createElement(Ye,null);case R.TEST:return a.a.createElement(lt,null);default:return null}},ft=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(a)))).state=Object(i.a)({},D,{setImageData:function(e){return n.setState({imageData:e})},setScreen:function(e){return n.setState({screen:e})}}),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setSplashScreenTimeout()}},{key:"setSplashScreenTimeout",value:function(){var e=this;setTimeout(function(){return e.setState({screen:R.HOME})},3e3)}},{key:"render",value:function(){var e=this.state.screen;return a.a.createElement(P.Provider,{value:this.state},a.a.createElement(st,{screen:e}))}}]),t}(r.Component);n(49),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var mt=document.getElementById("root");c.a.render(a.a.createElement(ft,null),mt),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[37,1,2]]]);
//# sourceMappingURL=main.34f93885.chunk.js.map