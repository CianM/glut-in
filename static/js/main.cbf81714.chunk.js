(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(t,e,n){t.exports=n.p+"static/media/close.506c8461.svg"},23:function(t,e,n){t.exports=n.p+"static/media/hamburger.efabf306.svg"},24:function(t){t.exports={terms:["barley","brewer\u2019s yeast","durum","emmer","farina","farro","graham","malt","rye","semolina","spelt","triticale","wheat","wheatberries"]}},25:function(t,e,n){t.exports=n.p+"static/media/detected-logo.44cfcd7b.png"},26:function(t,e,n){t.exports=n.p+"static/media/not-detected-logo.c59074f5.png"},27:function(t,e,n){t.exports=n.p+"static/media/logo.ee870420.png"},28:function(t,e,n){t.exports=n.p+"static/media/label-gluten-1.66f26d62.png"},29:function(t,e,n){t.exports=n.p+"static/media/label-gluten-2.b3b2f176.png"},30:function(t,e,n){t.exports=n.p+"static/media/label-gluten-free-1.0a8c7d62.jpg"},31:function(t,e,n){t.exports=n.p+"static/media/label-gluten-free-2.863a2528.jpg"},35:function(t,e,n){t.exports=n(51)},48:function(t,e,n){},51:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(8),c=n.n(o),i=n(33),u=n(3),s=n(4),l=n(6),f=n(5),d=n(7),m=n(1),v=n(2),h=n(32);function p(){var t=Object(m.a)(["\n\tposition: fixed;\n\tleft: calc(50% - 2.5rem);\n\tbottom: 2rem;\n\tbackground-color: rgba(254, 254, 254, 0.6);\n\theight: 5rem;\n\twidth: 5rem;\n\tborder: 0.25rem solid lightgray;\n\tborder-radius: 50%;\n\ttext-align: center;\n\tcursor: pointer;\n\tz-index: var(--z-index-capture-button);\n"]);return p=function(){return t},t}var b=v.a.button(p());function g(){var t=Object(m.a)(["\n\theight: 100vh;\n\twidth: 100vw;\n"]);return g=function(){return t},t}var j=v.a.div(g()),O=Object.freeze({HOME:"/",RESULTS:"/results",SPLASH:"/splash",TEST:"/test-data"}),y=Object.freeze({imageData:null,screen:O.SPLASH,setImageData:function(){},setScreen:function(){}}),w=a.a.createContext(y);function x(){var t=Object(m.a)(["\n    display: none;\n    height: 100vh;\n    width: 100vw;\n"]);return x=function(){return t},t}function E(){var t=Object(m.a)(["\n    height: 100vh;\n    width: 100vw;\n    object-fit: cover;\n"]);return E=function(){return t},t}var k=v.a.video(E()),S=v.a.canvas(x()),T=function(t){function e(){var t,n;Object(u.a)(this,e);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(n=Object(l.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(o)))).canvasRef=a.a.createRef(),n.videoRef=a.a.createRef(),n.setupCamera=function(){navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:"environment"}}}).then(function(t){return n.stream=t}).then(function(){n.videoRef.current.srcObject=n.stream,n.videoRef.current.play()}).catch(function(t){return console.error(t)})},n.takedownCamera=function(){if(n.stream){var t=n.stream.getTracks();Object(h.a)(t,1)[0].stop()}},n.takePhoto=function(){var t=n.context,e=t.setImageData,r=t.setScreen,a=n.videoRef.current,o=a.videoHeight,c=a.videoWidth,i=n.canvasRef.current.getContext("2d");n.canvasRef.current.width=c,n.canvasRef.current.height=o,i.drawImage(n.videoRef.current,0,0,c,o),e(n.canvasRef.current.toDataURL("image/png")),r(O.RESULTS)},n}return Object(d.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){this.setupCamera()}},{key:"componentWillUnmount",value:function(){this.takedownCamera()}},{key:"render",value:function(){return a.a.createElement(j,null,a.a.createElement(b,{onClick:this.takePhoto},"Take Photo"),a.a.createElement(k,{ref:this.videoRef}),a.a.createElement(S,{ref:this.canvasRef}))}}]),e}(r.Component);T.contextType=w;var C=T,D=n(9),P=n.n(D),R=n(21),M=n(22),z=n.n(M);function H(){var t=Object(m.a)(["\n    display: flex;\n    align-items: center;\n    height: 3rem;\n    cursor: pointer;\n"]);return H=function(){return t},t}function L(){var t=Object(m.a)(["\n    height: 2rem;\n    width: 2rem;\n"]);return L=function(){return t},t}function F(){var t=Object(m.a)(["\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n"]);return F=function(){return t},t}function A(){var t=Object(m.a)(["\n    display: ",";\n    flex-flow: column nowrap;\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    background-color: var(--color-white);\n    padding: 1rem;\n    height: 100%;\n    width: 60%;\n    z-index: var(--z-index-menu);\n"]);return A=function(){return t},t}var U=v.a.div(A(),function(t){return t.visible?"flex":"none"});U.propTypes={visible:P.a.bool},U.defaultProps={visible:!1};var I=v.a.div(F());I.CloseButton=v.a.img(L());var J=v.a.p(H()),G=function(t){function e(){var t,n;Object(u.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(a)))).handleClickOutside=function(){return n.props.closeFn()},n.navigateToTestPage=function(){return n.context.setScreen(O.TEST)},n}return Object(d.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this.props,e=t.closeFn,n=t.open;return a.a.createElement(U,{visible:n},a.a.createElement(I,null,a.a.createElement(I.CloseButton,{src:z.a,alt:"Close",onClick:e})),a.a.createElement(J,{onClick:this.navigateToTestPage},"Test Data"))}}]),e}(r.Component);G.contextType=w,G.defaultProps={closeFn:function(){},open:!1};var _=Object(R.a)(G),B=n(23),W=n.n(B);function q(){var t=Object(m.a)(["\n    color: var(--color-white);\n    position: fixed;\n    top: 1rem;\n    right: 1rem;\n    z-index: var(--z-index-menu-button);\n    cursor: pointer;\n"]);return q=function(){return t},t}var $=v.a.img(q()),K=function(t){function e(){var t,n;Object(u.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(a)))).state={menuOpen:!1},n.openMenu=function(){return n.setState({menuOpen:!0})},n.closeMenu=function(){return n.setState({menuOpen:!1})},n}return Object(d.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this.state.menuOpen;return a.a.createElement(j,null,a.a.createElement(C,null),!t&&a.a.createElement($,{src:W.a,alt:"Menu",onClick:this.openMenu}),a.a.createElement(_,{open:t,closeFn:this.closeMenu}))}}]),e}(r.Component);function N(){var t=Object(m.a)(["\n\t0% { \n\t\ttransform: rotate(0deg); \n\t}\n\n\t100% { \n\t\ttransform: rotate(360deg); \n\t}\n"]);return N=function(){return t},t}function Q(){var t=Object(m.a)(["\n\t0% { \n\t\topacity: 0;\n\t\ttransform: scale(10);\n\t}\n\n\t20% {\n\t\topacity: 1;\n\t}\n\n\t90% {\n\t\ttransform: scale(1);\n\t}\n\n\t95% {\n\t\ttransform: scale(1.25);\n\t}\n\n\t100% { \n\t\ttransform: scale(1);\n\t}\n"]);return Q=function(){return t},t}function V(){var t=Object(m.a)(["\n\t89% {\n\t\ttransform: rotate(0);\n\t}\n\n\t90% {\n\t\ttransform: rotate(-2deg);\n\t}\n\n\t100% {\n\t\ttransform: rotate(0);\n\t}\n"]);return V=function(){return t},t}var X=Object(v.b)(V()),Y=Object(v.b)(Q()),Z=Object(v.b)(N());function tt(){var t=Object(m.a)(["\n\tborder: 0.75rem solid #E0E0E0; \n\tborder-top: 0.75rem solid var(--color-sea-buckthorn);\n\tborder-radius: 50%;\n\twidth: 3rem;\n\theight: 3rem;\n\tanimation: "," 2s linear infinite;\n"]);return tt=function(){return t},t}var et=v.a.div(tt(),Z),nt=n(13),rt=n.n(nt),at=n(24),ot=new(function(){function t(){var e=this;Object(u.a)(this,t),this._configureLibrary=function(){e._tesseract=rt.a},this._getConfig=function(){var t="".concat(window.location.origin).concat("/glut-in");return{workerPath:"".concat(t,"/tesseract/worker.js"),langPath:"".concat(t,"/tesseract/lang/"),corePath:"".concat(t,"/tesseract/core.js")}},this._configureLibrary()}return Object(s.a)(t,[{key:"startDetection",value:function(t){return this._tesseract.recognize(t)}},{key:"detect",value:function(t){var e=t.toLowerCase(),n=at.terms,r=function(t){return e.includes(t)};return new Promise(function(t,e){return n.some(r)?t():e()})}}]),t}()),ct=n(25),it=n.n(ct),ut=n(26),st=n.n(ut);function lt(){var t=Object(m.a)(["\n    color: var(--color-alabaster);\n    font-size: 2.5rem;\n    font-family: var(--font-family-title);\n    font-weight: lighter;\n    text-shadow: ",";\n"]);return lt=function(){return t},t}function ft(){var t=Object(m.a)(["\n    height: 30vh;\n    width: 30vh;\n    border-radius: 50%;\n    box-shadow: 0 5px 2rem var(--color-alabaster);\n"]);return ft=function(){return t},t}function dt(){var t=Object(m.a)(["\n    position: fixed;\n    top: 0;\n    display: flex;\n    flex-flow: column;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n    width: 100%;\n"]);return dt=function(){return t},t}function mt(){var t=Object(m.a)(["\n    background-image: ",";\n    background-position: center center;\n\tbackground-size: cover;\n\tfilter: grayscale(100%);\n"]);return mt=function(){return t},t}function vt(){var t=Object(m.a)(["\n    position: fixed;\n    top: 1rem;\n    left: 1rem;\n"]);return vt=function(){return t},t}var ht=Object(v.a)(et)(vt()),pt=Object(v.a)(j)(mt(),function(t){var e=t.background;return"url(".concat(e,")")});pt.propTypes={background:P.a.string.isRequired};var bt=v.a.div(dt());bt.Icon=v.a.img(ft()),bt.Text=v.a.h1(lt(),function(t){return t.detected?"5px 5px 0.25rem var(--color-bright-red)":"5px 5px 0.25rem var(--color-olive-drab)"}),bt.Text.propTypes={detected:P.a.bool.isRequired};var gt=function(t){function e(){var t,n;Object(u.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(a)))).state={inProgress:!1,completed:!1,detected:null},n.onProgressUpdate=function(t){n.setState(function(t){return t.inProgress?null:{inProgress:!0}})},n.onJobComplete=function(t){n.setState({inProgress:!1}),ot.detect(t.text).then(n.detectedHandler,n.notDetectedHandler)},n.detectedHandler=function(){n.setState({completed:!0,detected:!0})},n.notDetectedHandler=function(){n.setState({completed:!0,detected:!1})},n}return Object(d.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){this.startDetection()}},{key:"startDetection",value:function(){var t=this.context.imageData;this.recognitionJob=ot.startDetection(t),this.recognitionJob.progress(this.onProgressUpdate),this.recognitionJob.then(this.onJobComplete)}},{key:"render",value:function(){var t=this.context.imageData,e=this.state,n=e.inProgress,o=e.completed,c=e.detected;return a.a.createElement(r.Fragment,null,a.a.createElement(pt,{background:t}),n&&a.a.createElement(ht,null),o&&a.a.createElement(bt,null,a.a.createElement(bt.Icon,{src:c?it.a:st.a}),a.a.createElement(bt.Text,{detected:c},c?"Contains Gluten":"Gluten-Free")))}}]),e}(r.Component);gt.contextType=w;var jt=gt,Ot=n(27),yt=n.n(Ot);function wt(){var t=Object(m.a)(["\n\tanimation: "," 1s linear;\n"]);return wt=function(){return t},t}function xt(){var t=Object(m.a)(["\n\tdisplay: inline-block;\n\tcolor: var(--color-alabaster);\n\tfont-size: 4rem;\n\tfont-family: var(--font-family-title);\n\ttext-shadow: 1px 2px 0.5rem #414141;\n\tanimation: "," 1s linear;\n"]);return xt=function(){return t},t}function Et(){var t=Object(m.a)([""]);return Et=function(){return t},t}function kt(){var t=Object(m.a)(["\n\theight: 12rem;\n\twidth: 12rem;\n\tborder-radius: 50%;\n\tbox-shadow: 0 5px 2rem var(--color-mine-shaft);\n"]);return kt=function(){return t},t}function St(){var t=Object(m.a)(["\n\tdisplay: flex;\n\tflex-flow: column nowrap;\n\tjustify-content: center;\n\talign-items: center;\n\tbackground-color: var(--color-sea-buckthorn);\n"]);return St=function(){return t},t}var Tt=Object(v.a)(j)(St()),Ct=v.a.img(kt()),Dt=v.a.div(Et()),Pt=v.a.h1(xt(),X),Rt=Object(v.a)(Pt)(wt(),Y),Mt=function(){return a.a.createElement(Tt,null,a.a.createElement(Ct,{src:yt.a}),a.a.createElement(Dt,null,a.a.createElement(Pt,null,"Glut-in"),a.a.createElement(Rt,null,"?")))},zt=n(28),Ht=n.n(zt),Lt=n(29),Ft=n.n(Lt),At=n(30),Ut=n.n(At),It=n(31),Jt=n.n(It),Gt=[Ht.a,Ft.a],_t=[Ut.a,Jt.a];function Bt(){var t=Object(m.a)(["\n    width: 100%;\n    max-height: 5rem;\n    object-fit: cover;\n    cursor: pointer;\n"]);return Bt=function(){return t},t}function Wt(){var t=Object(m.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n    grid-auto-rows: 1fr;\n    grid-column-gap: 1rem;\n    grid-row-gap: 1rem;\n    align-items: stretch;\n"]);return Wt=function(){return t},t}function qt(){var t=Object(m.a)([""]);return qt=function(){return t},t}function $t(){var t=Object(m.a)(["\n    padding: 1rem;\n"]);return $t=function(){return t},t}var Kt=v.a.div($t()),Nt=v.a.h1(qt()),Qt=v.a.div(Wt()),Vt=v.a.img(Bt()),Xt=function(t){function e(){var t,n;Object(u.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(a)))).sendDataForTest=function(t){var e=n.context,r=e.setImageData,a=e.setScreen;r(t),a(O.RESULTS)},n}return Object(d.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this;return a.a.createElement(Kt,null,a.a.createElement(Nt,null,"Gluten"),a.a.createElement(Qt,null,Gt.map(function(e,n){return a.a.createElement(Vt,{key:n,src:e,onClick:function(){return t.sendDataForTest(e)}})})),a.a.createElement(Nt,null,"Gluten-Free"),a.a.createElement(Qt,null,_t.map(function(e,n){return a.a.createElement(Vt,{key:n,src:e,onClick:function(){return t.sendDataForTest(e)}})})))}}]),e}(r.Component);Xt.contextType=w;var Yt=Xt,Zt=function(t){switch(t.screen){case O.HOME:return a.a.createElement(K,null);case O.RESULTS:return a.a.createElement(jt,null);case O.SPLASH:return a.a.createElement(Mt,null);case O.TEST:return a.a.createElement(Yt,null);default:return null}},te=function(t){function e(){var t,n;Object(u.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(a)))).state=Object(i.a)({},y,{setImageData:function(t){return n.setState({imageData:t})},setScreen:function(t){return n.setState({screen:t})}}),n}return Object(d.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){this.setSplashScreenTimeout()}},{key:"setSplashScreenTimeout",value:function(){var t=this;setTimeout(function(){return t.setState({screen:O.HOME})},3e3)}},{key:"render",value:function(){var t=this.state.screen;return a.a.createElement(w.Provider,{value:this.state},a.a.createElement(Zt,{screen:t}))}}]),e}(r.Component);n(48),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ee=document.getElementById("root");c.a.render(a.a.createElement(te,null),ee),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[35,2,1]]]);
//# sourceMappingURL=main.cbf81714.chunk.js.map