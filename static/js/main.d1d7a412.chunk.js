(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(t,e,n){t.exports=n.p+"static/media/close.506c8461.svg"},32:function(t,e,n){t.exports=n.p+"static/media/hamburger.efabf306.svg"},33:function(t){t.exports={terms:["barley","brewer\u2019s yeast","durum","emmer","farina","farro","graham","malt","rye","semolina","spelt","triticale","wheat","wheatberries"]}},34:function(t,e,n){t.exports=n.p+"static/media/detected-logo.44cfcd7b.png"},35:function(t,e,n){t.exports=n.p+"static/media/not-detected-logo.c59074f5.png"},36:function(t,e,n){t.exports=n.p+"static/media/logo.ee870420.png"},37:function(t,e,n){t.exports=n.p+"static/media/label-gluten-1.66f26d62.png"},38:function(t,e,n){t.exports=n.p+"static/media/label-gluten-2.b3b2f176.png"},39:function(t,e,n){t.exports=n.p+"static/media/label-gluten-free-1.0a8c7d62.jpg"},40:function(t,e,n){t.exports=n.p+"static/media/label-gluten-free-2.863a2528.jpg"},44:function(t,e,n){t.exports=n(61)},58:function(t,e,n){},61:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(14),c=n.n(o),i=n(5),u=n(6),l=n(10),s=n(9),f=n(11),m=n(64),d=n(66),p=n(63),h=n(67),v=n(2),b=n(3),g=n(41);function j(){var t=Object(v.a)(["\n\tposition: fixed;\n\tleft: calc(50% - 2.5rem);\n\tbottom: 2rem;\n\tbackground-color: rgba(254, 254, 254, 0.6);\n\theight: 5rem;\n\twidth: 5rem;\n\tborder: 0.25rem solid lightgray;\n\tborder-radius: 50%;\n\ttext-align: center;\n\tcursor: pointer;\n\tz-index: var(--z-index-capture-button);\n"]);return j=function(){return t},t}var O=b.a.button(j());function w(){var t=Object(v.a)(["\n\theight: 100vh;\n\twidth: 100vw;\n"]);return w=function(){return t},t}var y=b.a.div(w()),E=Object.freeze({HOME:"/",RESULTS:"/results",TEST:"/test-data"});function x(){var t=Object(v.a)(["\n    display: none;\n    height: 100vh;\n    width: 100vw;\n"]);return x=function(){return t},t}function k(){var t=Object(v.a)(["\n    height: 100vh;\n    width: 100vw;\n    object-fit: cover;\n"]);return k=function(){return t},t}var S=b.a.video(k()),C=b.a.canvas(x()),T=function(t){function e(){var t,n;Object(i.a)(this,e);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(n=Object(l.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(o)))).canvasRef=a.a.createRef(),n.videoRef=a.a.createRef(),n.setupCamera=function(){navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:"environment"}}}).then(function(t){return n.stream=t}).then(function(){n.videoRef.current.srcObject=n.stream,n.videoRef.current.play()}).catch(function(t){return console.error(t)})},n.takedownCamera=function(){if(n.stream){var t=n.stream.getTracks();Object(g.a)(t,1)[0].stop()}},n.takePhoto=function(){var t=n.props.history.push,e=n.videoRef.current,r=e.videoHeight,a=e.videoWidth,o=n.canvasRef.current.getContext("2d");n.canvasRef.current.width=a,n.canvasRef.current.height=r,o.drawImage(n.videoRef.current,0,0,a,r);var c={image:n.canvasRef.current.toDataURL("image/png")};t(E.RESULTS,c)},n}return Object(f.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.setupCamera()}},{key:"componentWillUnmount",value:function(){this.takedownCamera()}},{key:"render",value:function(){return a.a.createElement(y,null,a.a.createElement(O,{onClick:this.takePhoto},"Take Photo"),a.a.createElement(S,{ref:this.videoRef}),a.a.createElement(C,{ref:this.canvasRef}))}}]),e}(r.Component),R=Object(h.a)(T),P=n(1),D=n.n(P),M=n(30),z=n(62),F=n(31),H=n.n(F);function U(){var t=Object(v.a)(["\n    display: flex;\n    align-items: center;\n    height: 3rem;\n    cursor: pointer;\n"]);return U=function(){return t},t}function L(){var t=Object(v.a)(["\n    height: 2rem;\n    width: 2rem;\n"]);return L=function(){return t},t}function J(){var t=Object(v.a)(["\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n"]);return J=function(){return t},t}function A(){var t=Object(v.a)(["\n    display: ",";\n    flex-flow: column nowrap;\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    background-color: var(--color-white);\n    padding: 1rem;\n    height: 100%;\n    width: 60%;\n    z-index: var(--z-index-menu);\n"]);return A=function(){return t},t}var B=b.a.div(A(),function(t){return t.visible?"flex":"none"});B.propTypes={visible:D.a.bool},B.defaultProps={visible:!1};var G=b.a.div(J());G.CloseButton=b.a.img(L());var _=Object(b.a)(z.a)(U()),I=function(t){function e(){var t,n;Object(i.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(a)))).handleClickOutside=function(t){return n.props.closeFn()},n}return Object(f.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this.props,e=t.closeFn,n=t.open;return a.a.createElement(B,{visible:n},a.a.createElement(G,null,a.a.createElement(G.CloseButton,{src:H.a,alt:"Close",onClick:e})),a.a.createElement(_,{to:E.TEST},"Test Data"))}}]),e}(r.Component);I.defaultProps={closeFn:function(){},open:!1};var W=Object(M.a)(I),q=n(32),$=n.n(q);function K(){var t=Object(v.a)(["\n    color: var(--color-white);\n    position: fixed;\n    top: 1rem;\n    right: 1rem;\n    z-index: var(--z-index-menu-button);\n    cursor: pointer;\n"]);return K=function(){return t},t}var N=b.a.img(K()),Q=function(t){function e(){var t,n;Object(i.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(a)))).state={menuOpen:!1},n.openMenu=function(){return n.setState({menuOpen:!0})},n.closeMenu=function(){return n.setState({menuOpen:!1})},n}return Object(f.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this.state.menuOpen;return a.a.createElement(y,null,a.a.createElement(R,null),!t&&a.a.createElement(N,{src:$.a,alt:"Menu",onClick:this.openMenu}),a.a.createElement(W,{open:t,closeFn:this.closeMenu}))}}]),e}(r.Component);function V(){var t=Object(v.a)(["\n\t0% { \n\t\ttransform: rotate(0deg); \n\t}\n\n\t100% { \n\t\ttransform: rotate(360deg); \n\t}\n"]);return V=function(){return t},t}function X(){var t=Object(v.a)(["\n\t0% { \n\t\topacity: 0;\n\t\ttransform: scale(10);\n\t}\n\n\t20% {\n\t\topacity: 1;\n\t}\n\n\t90% {\n\t\ttransform: scale(1);\n\t}\n\n\t95% {\n\t\ttransform: scale(1.25);\n\t}\n\n\t100% { \n\t\ttransform: scale(1);\n\t}\n"]);return X=function(){return t},t}function Y(){var t=Object(v.a)(["\n\t89% {\n\t\ttransform: rotate(0);\n\t}\n\n\t90% {\n\t\ttransform: rotate(-2deg);\n\t}\n\n\t100% {\n\t\ttransform: rotate(0);\n\t}\n"]);return Y=function(){return t},t}var Z=Object(b.b)(Y()),tt=Object(b.b)(X()),et=Object(b.b)(V());function nt(){var t=Object(v.a)(["\n\tborder: 0.75rem solid #E0E0E0; \n\tborder-top: 0.75rem solid var(--color-sea-buckthorn);\n\tborder-radius: 50%;\n\twidth: 3rem;\n\theight: 3rem;\n\tanimation: "," 2s linear infinite;\n"]);return nt=function(){return t},t}var rt=b.a.div(nt(),et),at=n(21),ot=n.n(at),ct=n(33),it=new(function(){function t(){var e=this;Object(i.a)(this,t),this._configureLibrary=function(){e._tesseract=ot.a},this._getConfig=function(){var t="".concat(window.location.origin).concat("/glut-in");return{workerPath:"".concat(t,"/tesseract/worker.js"),langPath:"".concat(t,"/tesseract/lang/"),corePath:"".concat(t,"/tesseract/core.js")}},this._configureLibrary()}return Object(u.a)(t,[{key:"startDetection",value:function(t){return this._tesseract.recognize(t)}},{key:"detect",value:function(t){var e=t.toLowerCase(),n=ct.terms,r=function(t){return e.includes(t)};return new Promise(function(t,e){return n.some(r)?t():e()})}}]),t}()),ut=n(34),lt=n.n(ut),st=n(35),ft=n.n(st);function mt(){var t=Object(v.a)(["\n    color: var(--color-alabaster);\n    font-size: 2.5rem;\n    font-family: var(--font-family-title);\n    font-weight: lighter;\n    text-shadow: ",";\n"]);return mt=function(){return t},t}function dt(){var t=Object(v.a)(["\n    height: 30vh;\n    width: 30vh;\n    border-radius: 50%;\n    box-shadow: 0 5px 2rem var(--color-alabaster);\n"]);return dt=function(){return t},t}function pt(){var t=Object(v.a)(["\n    position: fixed;\n    top: 0;\n    display: flex;\n    flex-flow: column;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n    width: 100%;\n"]);return pt=function(){return t},t}function ht(){var t=Object(v.a)(["\n    background-image: ",";\n    background-position: center center;\n\tbackground-size: cover;\n\tfilter: grayscale(100%);\n"]);return ht=function(){return t},t}function vt(){var t=Object(v.a)(["\n    position: fixed;\n    top: 1rem;\n    left: 1rem;\n"]);return vt=function(){return t},t}var bt=Object(b.a)(rt)(vt()),gt=Object(b.a)(y)(ht(),function(t){var e=t.background;return"url(".concat(e,")")});gt.propTypes={background:D.a.string.isRequired};var jt=b.a.div(pt());jt.Icon=b.a.img(dt()),jt.Text=b.a.h1(mt(),function(t){return t.detected?"5px 5px 0.25rem var(--color-bright-red)":"5px 5px 0.25rem var(--color-olive-drab)"}),jt.Text.propTypes={detected:D.a.bool.isRequired};var Ot=function(t){function e(){var t,n;Object(i.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(a)))).state={inProgress:!1,completed:!1,detected:null},n.onProgressUpdate=function(t){n.setState(function(t){return t.inProgress?null:{inProgress:!0}})},n.onJobComplete=function(t){n.setState({inProgress:!1}),it.detect(t.text).then(n.detectedHandler,n.notDetectedHandler)},n.detectedHandler=function(){n.setState({completed:!0,detected:!0})},n.notDetectedHandler=function(){n.setState({completed:!0,detected:!1})},n}return Object(f.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.startDetection()}},{key:"startDetection",value:function(){var t=this.props.location.state.image;this.recognitionJob=it.startDetection(t),this.recognitionJob.progress(this.onProgressUpdate),this.recognitionJob.then(this.onJobComplete)}},{key:"render",value:function(){var t=this.props.location.state.image,e=this.state,n=e.inProgress,o=e.completed,c=e.detected;return a.a.createElement(r.Fragment,null,a.a.createElement(gt,{background:t}),n&&a.a.createElement(bt,null),o&&a.a.createElement(jt,null,a.a.createElement(jt.Icon,{src:c?lt.a:ft.a}),a.a.createElement(jt.Text,{detected:c},c?"Contains Gluten":"Gluten-Free")))}}]),e}(r.Component),wt=Object(h.a)(Ot),yt=n(36),Et=n.n(yt);function xt(){var t=Object(v.a)(["\n\tanimation: "," 1s linear;\n"]);return xt=function(){return t},t}function kt(){var t=Object(v.a)(["\n\tdisplay: inline-block;\n\tcolor: var(--color-alabaster);\n\tfont-size: 4rem;\n\tfont-family: var(--font-family-title);\n\ttext-shadow: 1px 2px 0.5rem #414141;\n\tanimation: "," 1s linear;\n"]);return kt=function(){return t},t}function St(){var t=Object(v.a)([""]);return St=function(){return t},t}function Ct(){var t=Object(v.a)(["\n\theight: 12rem;\n\twidth: 12rem;\n\tborder-radius: 50%;\n\tbox-shadow: 0 5px 2rem var(--color-mine-shaft);\n"]);return Ct=function(){return t},t}function Tt(){var t=Object(v.a)(["\n\tdisplay: flex;\n\tflex-flow: column nowrap;\n\tjustify-content: center;\n\talign-items: center;\n\tbackground-color: var(--color-sea-buckthorn);\n"]);return Tt=function(){return t},t}var Rt=Object(b.a)(y)(Tt()),Pt=b.a.img(Ct()),Dt=b.a.div(St()),Mt=b.a.h1(kt(),Z),zt=Object(b.a)(Mt)(xt(),tt),Ft=function(){return a.a.createElement(Rt,null,a.a.createElement(Pt,{src:Et.a}),a.a.createElement(Dt,null,a.a.createElement(Mt,null,"Glut-in"),a.a.createElement(zt,null,"?")))},Ht=n(37),Ut=n.n(Ht),Lt=n(38),Jt=n.n(Lt),At=n(39),Bt=n.n(At),Gt=n(40),_t=n.n(Gt),It=[Ut.a,Jt.a],Wt=[Bt.a,_t.a];function qt(){var t=Object(v.a)(["\n    width: 100%;\n    max-height: 5rem;\n    object-fit: cover;\n    cursor: pointer;\n"]);return qt=function(){return t},t}function $t(){var t=Object(v.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n    grid-auto-rows: 1fr;\n    grid-column-gap: 1rem;\n    grid-row-gap: 1rem;\n    align-items: stretch;\n"]);return $t=function(){return t},t}function Kt(){var t=Object(v.a)([""]);return Kt=function(){return t},t}function Nt(){var t=Object(v.a)(["\n    padding: 1rem;\n"]);return Nt=function(){return t},t}var Qt=b.a.div(Nt()),Vt=b.a.h1(Kt()),Xt=b.a.div($t()),Yt=b.a.img(qt()),Zt=function(t){function e(){var t,n;Object(i.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(a)))).sendDataForTest=function(t){var e={image:t};(0,n.props.history.push)(E.RESULTS,e)},n}return Object(f.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this;return a.a.createElement(Qt,null,a.a.createElement(Vt,null,"Gluten"),a.a.createElement(Xt,null,It.map(function(e,n){return a.a.createElement(Yt,{key:n,src:e,onClick:function(){return t.sendDataForTest(e)}})})),a.a.createElement(Vt,null,"Gluten-Free"),a.a.createElement(Xt,null,Wt.map(function(e,n){return a.a.createElement(Yt,{key:n,src:e,onClick:function(){return t.sendDataForTest(e)}})})))}}]),e}(r.Component),te=Object(h.a)(Zt),ee=n(65),ne=function(){return a.a.createElement(ee.a,{from:"*",to:E.HOME})},re=n(42),ae=function(t){var e=t.component,n=Object(re.a)(t,["component"]);return a.a.createElement(p.a,Object.assign({},n,{render:function(t){return function(t){var e=t.location,n=(e=void 0===e?{}:e).state,r=(n=void 0===n?{}:n).image;return Boolean(r)}(t)?a.a.createElement(e,t):a.a.createElement(ne,null)}}))},oe=function(t){function e(){var t,n;Object(i.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(a)))).state={showSplashScreen:!0},n}return Object(f.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.setSplashScreenTimeout()}},{key:"setSplashScreenTimeout",value:function(){var t=this,e=this.props.history.push;setTimeout(function(){t.setState({showSplashScreen:!1}),e(E.HOME)},3e3)}},{key:"render",value:function(){return this.state.showSplashScreen?a.a.createElement(Ft,null):a.a.createElement(d.a,null,a.a.createElement(p.a,{exact:!0,path:E.HOME,component:Q}),a.a.createElement(ae,{path:E.RESULTS,component:wt}),a.a.createElement(p.a,{path:E.TEST,component:te}),a.a.createElement(ne,null))}}]),e}(r.Component),ce=Object(h.a)(oe),ie=function(t){function e(){return Object(i.a)(this,e),Object(l.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return a.a.createElement(m.a,{basename:"/glut-in"},a.a.createElement(ce,null))}}]),e}(r.Component);n(58),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ue=document.getElementById("root");c.a.render(a.a.createElement(ie,null),ue),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[44,2,1]]]);
//# sourceMappingURL=main.d1d7a412.chunk.js.map